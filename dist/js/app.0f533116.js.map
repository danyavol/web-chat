{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/pages/Main.vue?1759","webpack:///./src/components/Messages/Messages.vue?fb78","webpack:///./src/components/NewChat/NewChat.vue?29b3","webpack:///./src/App.vue?4cce","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/pages/Main.vue?5ff5","webpack:///./src/components/Loading.vue?2928","webpack:///./src/components/Loading.vue","webpack:///./src/components/ChatList/ChatList.vue?aca1","webpack:///./src/components/ChatList/ChatList_Item.vue?9302","webpack:///src/components/ChatList/ChatList_Item.vue","webpack:///./src/components/ChatList/ChatList_Item.vue?ec6e","webpack:///./src/components/ChatList/ChatList_Item.vue","webpack:///src/components/ChatList/ChatList.vue","webpack:///./src/components/ChatList/ChatList.vue?6979","webpack:///./src/components/ChatList/ChatList.vue","webpack:///./src/components/Messages/Messages.vue?819d","webpack:///./src/components/Messages/Messages_Item.vue?e8e7","webpack:///src/components/Messages/Messages_Item.vue","webpack:///./src/components/Messages/Messages_Item.vue?e209","webpack:///./src/components/Messages/Messages_Item.vue","webpack:///src/components/Messages/Messages.vue","webpack:///./src/components/Messages/Messages.vue?f8f1","webpack:///./src/components/Messages/Messages.vue","webpack:///./src/components/Settings/Settings.vue?368e","webpack:///src/components/Settings/Settings.vue","webpack:///./src/components/Settings/Settings.vue?82f8","webpack:///./src/components/Settings/Settings.vue","webpack:///./src/components/NewChat/NewChat.vue?8be3","webpack:///./src/components/NewChat/NewChat_Item.vue?7c05","webpack:///src/components/NewChat/NewChat_Item.vue","webpack:///./src/components/NewChat/NewChat_Item.vue?2c3c","webpack:///./src/components/NewChat/NewChat_Item.vue","webpack:///src/components/NewChat/NewChat.vue","webpack:///./src/components/NewChat/NewChat.vue?3c26","webpack:///./src/components/NewChat/NewChat.vue","webpack:///./src/components/Logo.vue?7b6a","webpack:///./src/components/Logo.vue","webpack:///./src/components/Empty.vue?1834","webpack:///./src/components/Empty.vue","webpack:///src/pages/Main.vue","webpack:///./src/pages/Main.vue?bd60","webpack:///./src/pages/Main.vue","webpack:///./src/pages/Auth.vue?aff2","webpack:///src/pages/Auth.vue","webpack:///./src/pages/Auth.vue?e9e1","webpack:///./src/pages/Auth.vue","webpack:///./src/pages/Register.vue?3910","webpack:///src/pages/Register.vue","webpack:///./src/pages/Register.vue?d159","webpack:///./src/pages/Register.vue","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/components/Settings/Settings.vue?f8a6","webpack:///./src/components/Empty.vue?d400","webpack:///./src/components/NewChat/NewChat_Item.vue?dc5d","webpack:///./src/components/ChatList/ChatList_Item.vue?d7ac","webpack:///./src/components/Messages/Messages_Item.vue?15f7","webpack:///./src/components/ChatList/ChatList.vue?743d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","staticClass","staticStyle","_v","on","openSettingsBtn","logout","secondaryComponent","_b","tag","chats","isChatsLoading","openMessages","openNewChat","openChatList","secondaryProps","mainComponent","newMessage","delMessage","mainProps","_m","script","_e","isLoading","_l","chat","chatId","class","mate","colorScheme","_s","login","messages","$root","getDate","sendTime","messageText","newMessageCount","mateColor","mateName","mateLogin","item","messageId","deleteMessage","index","keyPress","inputFocusIn","inputFocusOut","sendMessage","isMe","myName","obj","confirmDelete","alertClass","alertText","domProps","darkTheme","search","users","isDone","user","removeFromSearch","addNewChat","loading","library","add","faUserPlus","faShare","faPlus","faTrashAlt","faCode","Vue","FontAwesomeIcon","use","BootstrapVue","IconsPlugin","VueRouter","VueAxios","axios","url","routes","path","Main","beforeEnter","to","from","next","uuid","localStorage","getItem","post","params","then","response","setItem","userId","Auth","Register","router","dateStr","output","msgDate","Date","now","hours","getHours","minutes","getMinutes","getFullYear","date","month","getMonth","year","toString","config","productionTip","render","h","App","$mount"],"mappings":"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,EAAG,oBAAoB,CAACK,YAAY,sBAAsBH,MAAM,CAAC,KAAO,CAAC,MAAO,WAAWN,EAAIW,GAAG,oBAAoB,MACp0D,GAAkB,GCAlB,I,UAAS,IAMT,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCsBf,IACA,YACA,KAFA,WAGA,OACA,sBACA,eACA,mBAEA,8BACA,oBAEA,kBACA,iBACA,WACA,gBACA,4BAGA,YAlBA,WAmBA,mBACA,0BACA,oEAEA,SACA,OADA,WAEA,yCACA,oCACA,qBACA,mCACA,4BAEA,aARA,SAQA,GACA,iBACA,+BAEA,gBAZA,WAaA,0DACA,2BACA,iCACA,kCACA,wBACA,gCAEA,kCACA,oBACA,gCAGA,YAzBA,WA0BA,mCAEA,aA5BA,WA6BA,mBACA,oCAEA,WAhCA,SAgCA,GACA,oCACA,oCACA,gDACA,2BACA,4BAIA,WAzCA,SAyCA,GACA,oCACA,mCACA,mDACA,sDACA,gDACA,uBACA,4BAMA,mBAtDA,SAsDA,GACA,gHACA,kBACA,cACA,sBAIA,YA9DA,WA8DA,WACA,2FACA,kBACA,gBAUA,4BAVA,CACA,SACA,WACA,gCACA,8BACA,4BAEA,uDAOA,mBA/EA,WA+EA,WACA,gGACA,kBACA,0CAIA,IAFA,2BAEA,mBACA,iCAEA,oCACA,aAGA,gCACA,qCACA,yCACA,4DACA,wBACA,IACA,MAOA,aACA,sDACA,kFAnBA,uBAuBA,aAvBA,IAuBA,4CACA,wCACA,8CACA,qBA1BA,qDA+BA,iBA/BA,IA+BA,2BACA,IADA,cACA,yCACA,oDACA,8CACA,uBACA,MACA,gDACA,OAtCA,8BA4CA,yBACA,oEACA,8CACA,qBAIA,iDACA,8CACA,oBACA,0CAIA,GACA,oBAMA,oBAIA,8BACA,+BACA,iCACA,gBADA,IACA,0CACA,kCAFA,8BAIA,0BAOA,YACA,WACA,WACA,YACA,QACA,UACA,SACA,aCjP8U,MCQ1U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG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","file":"js/app.0f533116.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/web-chat/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewChat.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewChat.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div id=\"app\">\r\n\t\t<router-view />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'App',\r\n\t\tbeforeMount() {\r\n\t\t\tif (localStorage.getItem('theme') === 'dark') {\r\n\t\t\t\tdocument.documentElement.setAttribute('data-theme', 'dark');\r\n\t\t\t} else {\r\n\t\t\t\tdocument.documentElement.setAttribute('data-theme', 'light');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nhtml {\r\n\t--bg: #e9e9eb;\r\n\t--container-bg: #f8f9fa;\r\n\t--header-bg: #ef4b4c;\r\n\t--header-text: #ffffff;\r\n\t--card-bg: #ffffff;\r\n\t--primary-text: #000000;\r\n\t--secondary-text: #6c757d;\r\n\t--primary-text2: #007bff;\r\n\t--button-bg: #007bff;\r\n\t--button-text: #ffffff;\r\n\t--border: #dee2e6;\r\n\t--new-chat-button: #8fd19e;\r\n\t--new-chat-button-hover: #28a745;\r\n\t--mate-msg-bg: #ffffff;\r\n\t--my-msg-bg: #fff7f7;\r\n}\r\n\r\nhtml[data-theme='dark'] {\r\n\t--bg: #222222;\r\n\t--container-bg: #121212;\r\n\t--header-bg: #902f30;\r\n\t--header-text: #e3e3e3;\r\n\t--card-bg: #1e1e1e;\r\n\t--primary-text: #e3e3e3;\r\n\t--secondary-text: #797979;\r\n\t--primary-text2: #f8ad16;\r\n\t--button-bg: #3ca978;\r\n\t--button-text: #f5dd6f;\r\n\t--border: #383838;\r\n\t--new-chat-button: #8fd19e;\r\n\t--new-chat-button-hover: #28a745;\r\n\t--mate-msg-bg: #383838;\r\n\t--my-msg-bg: #323232;\r\n\r\n\thr {\r\n\t\tborder-top: 1px solid var(--border);\r\n\t}\r\n\r\n\t.form-control {\r\n\t\tbackground-color: #373737;\r\n\t\tcolor: var(--primary-text);\r\n\t\tborder: 1px solid var(--secondary-text);\r\n\r\n\t\t&::placeholder {\r\n\t\t\tcolor: var(--secondary-text);\r\n\t\t}\r\n\r\n\t\t&.is-valid {\r\n\t\t\tborder-color: #28a745;\r\n\t\t}\r\n\t}\r\n\r\n\t.border-bottom {\r\n\t\tborder-bottom: 1px solid var(--border) !important;\r\n\t}\r\n}\r\n\r\nbody {\r\n\tbackground-color: var(--bg) !important;\r\n}\r\n\r\n.secondary-text {\r\n\tcolor: var(--secondary-text);\r\n}\r\n\r\n.primary-text {\r\n\tcolor: var(--primary-text);\r\n}\r\n\r\n.primary-text2 {\r\n\tcolor: var(--primary-text2);\r\n}\r\n\r\n\r\n\r\n.color1 {\r\n\t/* Зеленый */\r\n\tbackground-color: #88e69c;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.color2 {\r\n\t/* Салатовый */\r\n\tbackground-color: #90f948;\r\n\tcolor: #000000;\r\n}\r\n\r\n.color3 {\r\n\t/* Синий */\r\n\tbackground-color: #628cff;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.color4 {\r\n\t/* Голубой */\r\n\tbackground-color: #86eeff;\r\n\tcolor: #000000;\r\n}\r\n\r\n.color5 {\r\n\t/* Красный */\r\n\tbackground-color: #ff9494;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.color6 {\r\n\t/* Оранжевый */\r\n\tbackground-color: #ffde67;\r\n\tcolor: #000000;\r\n}\r\n\r\n.color7 {\r\n\t/* Фиолетовый */\r\n\tbackground-color: #e65dff;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.color8 {\r\n\t/* Розовый */\r\n\tbackground-color: #ffa8fd;\r\n\tcolor: #000000;\r\n}\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=783c2a7e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container-lg vh-100 d-flex flex-column\",staticStyle:{\"min-width\":\"600px\"}},[_c('div',{staticClass:\"row header position-relative\"},[_c('div',{staticClass:\"col d-flex align-items-center\"},[_c('span',{staticClass:\"logo ml-2\"},[_c('Logo')],1),_c('p',[_vm._v(\"Жывеграм\")])]),_c('div',{staticClass:\"d-flex align-items-center mr-3\"},[_c('button',{staticClass:\"btn hb\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openSettingsBtn}},[_vm._v(\"Настройки\")]),_c('button',{staticClass:\"btn hb\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.logout}},[_vm._v(\"Выйти\")])])]),_c('div',{staticClass:\"row flex-grow-1 main-container\"},[_c(_vm.secondaryComponent,_vm._b({tag:\"component\",staticClass:\"col-4\",attrs:{\"chats\":_vm.chats,\"isLoading\":_vm.isChatsLoading},on:{\"openMessages\":_vm.openMessages,\"openNewChat\":_vm.openNewChat,\"openChatList\":_vm.openChatList}},'component',_vm.secondaryProps,false)),_c(_vm.mainComponent,_vm._b({tag:\"component\",staticClass:\"col-8\",attrs:{\"chats\":_vm.chats,\"isLoading\":_vm.isChatsLoading},on:{\"newMessage\":_vm.newMessage,\"delMessage\":_vm.delMessage}},'component',_vm.mainProps,false))],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-center\"},[_c('div',{staticClass:\"spinner-border secondary-text mt-5\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=89c9a0e8&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sec-component p-0 d-flex flex-column\"},[_c('div',{staticClass:\"chatList-top d-flex align-items-center pl-4 justify-content-between\"},[_c('span',{staticClass:\"h5 mb-0 primary-text\"},[_vm._v(\"Сообщения\")]),_c('span',{staticClass:\"mr-3 p-2 addChat\",on:{\"click\":_vm.openNewChat}},[_c('font-awesome-icon',{staticClass:\"fa-lg\",attrs:{\"icon\":\"user-plus\"}})],1)]),_c('div',{staticClass:\"overflow-auto position-relative flex-grow-1 mx-0\"},[(_vm.isLoading)?_c('Loading'):_vm._e(),(!_vm.isLoading)?_c('div',{staticClass:\"chatList-wrapper position-absolute d-flex flex-column px-3 py-3\",staticStyle:{\"max-width\":\"100%\"}},[(_vm.chats && _vm.chats.length === 0)?_c('p',{staticClass:\"text-center\"},[_vm._v(\"У вас нет диалогов\")]):_vm._e(),_vm._l((_vm.chats),function(chat){return _c('ChatListItem',{key:chat.chatId,attrs:{\"chat\":chat},on:{\"openMessages\":_vm.openMessages}})})],2):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat_item card shadow-sm\",staticStyle:{\"max-width\":\"100%\"},on:{\"click\":_vm.openMessages}},[_c('div',{staticClass:\"card-body p-2\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-2 align-self-center d-none d-md-block\"},[_c('span',{staticClass:\"avatar\",class:'color'+_vm.chat.mate.colorScheme},[_vm._v(_vm._s(_vm.chat.mate.name[0]))])]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('p',{staticClass:\"card-title mb-1 mate text-truncate\"},[_c('span',[_vm._v(\"@\"+_vm._s(_vm.chat.mate.login))]),_c('strong',{staticClass:\"pl-2\"},[_vm._v(_vm._s(_vm.chat.mate.name))])]),_c('p',{staticClass:\"mb-1 secondary-text text-sm\"},[_vm._v(_vm._s(_vm.chat.messages.length ? this.$root.getDate(_vm.chat.messages[_vm.chat.messages.length-1].sendTime) : ''))])]),_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('p',{staticClass:\"card-text mb-0 text-truncate secondary-text\"},[(_vm.isMe)?_c('span',{staticClass:\"primary-text2 mr-1\"},[_vm._v(\"Вы:\")]):_vm._e(),_vm._v(_vm._s(_vm.chat.messages.length ? _vm.chat.messages[_vm.chat.messages.length-1].messageText : 'Нет сообщений'))]),(_vm.chat.newMessageCount)?_c('span',{staticClass:\"badge badge-pill badge-primary ml-1\"},[_vm._v(_vm._s(_vm.chat.newMessageCount))]):_vm._e()])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"chat_item card shadow-sm\" style=\"max-width: 100%\" @click=\"openMessages\">\r\n\t\t<div class=\"card-body p-2\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col-2 align-self-center d-none d-md-block\">\r\n\t\t\t\t\t<span class=\"avatar\" :class=\"'color'+chat.mate.colorScheme\">{{chat.mate.name[0]}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-md-10\">\r\n\t\t\t\t\t<div class=\"d-flex justify-content-between\">\r\n\t\t\t\t\t\t<p class=\"card-title mb-1 mate text-truncate\"><span>@{{chat.mate.login}}</span><strong class=\"pl-2\">{{chat.mate.name}}</strong></p>\r\n\t\t\t\t\t\t<p class=\"mb-1 secondary-text text-sm\">{{chat.messages.length ? this.$root.getDate(chat.messages[chat.messages.length-1].sendTime) : ''}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t<p class=\"card-text mb-0 text-truncate secondary-text\"><span class=\"primary-text2 mr-1\" v-if=\"isMe\">Вы:</span>{{chat.messages.length ? chat.messages[chat.messages.length-1].messageText : 'Нет сообщений'}}</p>\r\n\t\t\t\t\t\t<span class=\"badge badge-pill badge-primary ml-1\" v-if=\"chat.newMessageCount\">{{chat.newMessageCount}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\tchat: Object\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisMe: false\r\n\t\t}\r\n\t},\r\n\tbeforeMount() {\r\n\t\tthis.checkIfMe();\r\n\r\n\t},\r\n\tbeforeUpdate() {\r\n\t\tthis.checkIfMe();\r\n\t},\r\n\tmethods: {\r\n\t\topenMessages() {\r\n\t\t\tthis.$emit('openMessages', {\r\n\t\t\t\tchatId: this.chat.chatId,\r\n\t\t\t\tmateName: this.chat.mate.name,\r\n\t\t\t\tmateLogin: this.chat.mate.login,\r\n\t\t\t\tmateColor: this.chat.mate.colorScheme\r\n\t\t\t});\r\n\t\t},\r\n\t\tcheckIfMe() {\r\n\t\t\tlet messages = this.chat.messages;\r\n\t\t\tif (messages.length === 0) return this.isMe = false;\r\n\t\t\tif (messages[messages.length - 1].senderId) {\r\n\t\t\t\tthis.isMe = messages[messages.length - 1].senderId !== this.chat.mate.userId;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isMe = messages[messages.length - 1].sender.userId !== this.chat.mate.userId;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.chat_item {\r\n\t\tbackground-color: var(--card-bg);\r\n\t\tmargin-bottom: 10px;\r\n\t\tcursor: pointer;\r\n\r\n\t\t.card-title {\r\n\t\t\tcolor: var(--primary-text);\r\n\t\t}\r\n\r\n\t\t&:last-child {\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.avatar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\twidth: 40px;\r\n\t\theight: 40px;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatList_Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatList_Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatList_Item.vue?vue&type=template&id=55cd329a&\"\nimport script from \"./ChatList_Item.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatList_Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatList_Item.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div class=\"sec-component p-0 d-flex flex-column\">\r\n\t\t<div class=\"chatList-top d-flex align-items-center pl-4 justify-content-between\">\r\n\t\t\t<span class=\"h5 mb-0 primary-text\">Сообщения</span>\r\n\t\t\t<span class=\"mr-3 p-2 addChat\" @click=\"openNewChat\">\r\n\t\t\t\t<font-awesome-icon icon=\"user-plus\" class=\"fa-lg\"/>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"overflow-auto position-relative flex-grow-1 mx-0\" >\r\n\t\t\t<Loading v-if=\"isLoading\"/>\r\n\t\t\t<div class=\"chatList-wrapper position-absolute d-flex flex-column px-3 py-3\" v-if=\"!isLoading\" style=\"max-width: 100%\">\r\n\t\t\t\t<p class=\"text-center\" v-if=\"chats && chats.length === 0\">У вас нет диалогов</p>\r\n\t\t\t\t<ChatListItem v-bind:key=\"chat.chatId\" v-for=\"chat in chats\" v-bind:chat=\"chat\" @openMessages=\"openMessages\"/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport ChatListItem from '@/components/ChatList/ChatList_Item';\r\nimport Loading from '@/components/Loading';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tnewMessage: Object,\r\n\t\tchats: Array,\r\n\t\tisLoading: Boolean\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t}\r\n\t},\r\n\tbeforeMount() {\r\n\t\tthis.sortChats();\r\n\t},\r\n\tbeforeUpdate() {\r\n\t\tthis.sortChats();\r\n\t},\r\n\tmethods: {\r\n\t\topenMessages(data) {\r\n\t\t\tthis.$emit('openMessages', data);\r\n\t\t},\r\n\t\topenNewChat() {\r\n\t\t\tthis.$emit('openNewChat');\r\n\t\t},\r\n\t\tsortChats() {\r\n\t\t\tif (this.chats) {\r\n\t\t\t\tthis.chats = this.chats.sort((a, b) => {\r\n\t\t\t\t\tif (a.messages.length !== 0 && b.messages.length !== 0){\r\n\t\t\t\t\t\treturn (new Date(b.messages[b.messages.length-1].sendTime)).getTime() - (new Date(a.messages[a.messages.length-1].sendTime)).getTime();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a.messages.length === 0 && b.messages.length === 0) return 0;\r\n\t\t\t\t\tif (a.messages.length !== 0 && b.messages.length === 0) return -1;\r\n\t\t\t\t\telse return 1;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tnewMessage(newMsg) {\r\n\t\t\tlet chats = JSON.parse(JSON.stringify(this.chatsList));\r\n\t\t\tfor (let i = 0; i < chats.length; i++) {\r\n\t\t\t\tif (chats[i].chatId === newMsg.chatId) {\r\n\t\t\t\t\tif (newMsg.message.length === 0) {\r\n\t\t\t\t\t\tchats[i].messages = [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tchats[i].messages[0] = newMsg.message;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.chatsList = chats;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n        ChatListItem,\r\n\t\tLoading\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.sec-component {\r\n\t\tborder-right: 1px solid var(--border);\r\n\t}\r\n\t.chatList-top {\r\n\t\tbackground: var(--card-bg);\r\n\t\tborder-bottom: 1px solid var(--border);\r\n\t\theight: 60px;\r\n\t\tposition: relative;\r\n\t\tz-index: 15;\r\n\t\tbox-shadow: 0px 10px 10px -10px rgba(34, 60, 80, 0.1);\r\n\t}\r\n\r\n\t.addChat {\r\n\t\tcursor: pointer;\r\n\t\tcolor: #6f757b;\r\n\t\ttransition-duration: 0.2s;\r\n\t\t&:hover {\r\n\t\t\ttransition-duration: 0.2s;\r\n\t\t\tcolor: #343a40;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatList.vue?vue&type=template&id=4a958bcc&\"\nimport script from \"./ChatList.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container main-component p-0 position-relative d-flex flex-column\"},[_c('div',{staticClass:\"msg-container-header p-2 d-flex align-items-center flex-row primary-text\"},[_c('span',{staticClass:\"avatar ml-3\",class:'color'+_vm.mateColor},[_vm._v(_vm._s(this.mateName[0]))]),_c('span',{staticClass:\"ml-3\"},[_vm._v(\"@\"+_vm._s(this.mateLogin))]),_c('strong',{staticClass:\"ml-2\"},[_vm._v(_vm._s(this.mateName))])]),_c('div',{staticClass:\"overflow-auto position-relative flex-grow-1 mx-0\",attrs:{\"id\":\"msg-container\"}},[(_vm.messages == null)?_c('Loading'):_vm._e(),(_vm.messages != null)?_c('div',{staticClass:\"position-absolute d-flex flex-column msg-wrapper px-3\"},[(_vm.messages.length === 0)?_c('p',{staticClass:\"text-center secondary-text\"},[_vm._v(\"Нет сообщений\")]):_vm._e(),_vm._l((_vm.messages),function(item){return _c('Message',{key:item.messageId,attrs:{\"msg\":item,\"mateName\":_vm.mateName},on:{\"delMsg\":_vm.deleteMessage}})}),_vm._l((_vm.localMessages),function(item,index){return _c('Message',{key:index,attrs:{\"localMsg\":item,\"mateName\":_vm.mateName}})})],2):_vm._e()],1),_c('div',{staticClass:\"msg-container-bottom py-3\"},[_c('div',{staticClass:\"d-flex \"},[_c('div',{staticClass:\"pl-3\",staticStyle:{\"width\":\"calc(100% - 145px)\"}},[_c('div',{staticClass:\"secondary-text\",attrs:{\"contenteditable\":\"true\",\"id\":\"message-input\",\"placeholder\":\"Напишите сообщение...\"},on:{\"keypress\":_vm.keyPress,\"focusin\":_vm.inputFocusIn,\"focusout\":_vm.inputFocusOut}},[_vm._v(\"Напишите сообщение...\")])]),_c('div',{staticClass:\"px-3\",staticStyle:{\"min-width\":\"145px\"}},[_c('input',{staticClass:\"btn btn-outline-primary w-100\",attrs:{\"type\":\"button\",\"value\":\"Отправить\"},on:{\"click\":_vm.sendMessage}})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"msg_item card w-75 shadow-sm\",class:{'ml-auto my-msg': this.isMe}},[_c('div',{staticClass:\"card-body p-2\"},[_c('div',{staticClass:\"msg_header mb-2 d-flex justify-content-between\"},[_c('p',{staticClass:\"secondary-text mb-0\"},[_vm._v(_vm._s(this.isMe ? _vm.myName : _vm.mateName))]),_c('div',{staticClass:\"d-flex align-items-center\"},[(!_vm.isLoading)?_c('span',{staticClass:\"secondary-text text-sm\"},[_vm._v(_vm._s(this.$root.getDate(_vm.obj.sendTime)))]):_vm._e(),(_vm.isLoading)?_c('div',{staticClass:\"spinner-border spinner-border-sm messageLoading secondary-text\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e(),(_vm.isMe && !_vm.isLoading)?_c('span',{staticClass:\"position-relative\",on:{\"click\":_vm.confirmDelete}},[_c('font-awesome-icon',{staticClass:\"secondary-text ml-3 deleteMsg\",attrs:{\"icon\":['far', 'trash-alt']}}),_c('div',{staticClass:\"confirmDelete position-absolute text-sm d-none\",on:{\"click\":_vm.deleteMessage}},[_vm._v(\"Удалить сообщение?\")])],1):_vm._e()])]),_c('div',{staticClass:\"msg_content\"},[_c('pre',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.obj.messageText))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t\t<div class=\"msg_item card w-75 shadow-sm\" v-bind:class=\"{'ml-auto my-msg': this.isMe}\">\r\n\t\t\t<div class=\"card-body p-2\">\r\n\t\t\t\t<div class=\"msg_header mb-2 d-flex justify-content-between\">\r\n\t\t\t\t\t<p class=\"secondary-text mb-0\">{{this.isMe ? myName : mateName}}</p>\r\n\t\t\t\t\t<div class=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t<span class=\"secondary-text text-sm\" v-if=\"!isLoading\">{{this.$root.getDate(obj.sendTime)}}</span>\r\n\t\t\t\t\t\t<div class=\"spinner-border spinner-border-sm messageLoading secondary-text\" v-if=\"isLoading\" role=\"status\">\r\n\t\t\t\t\t\t\t<span class=\"sr-only\">Loading...</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span v-on:click=\"confirmDelete\" class=\"position-relative\" v-if=\"isMe && !isLoading\">\r\n\t\t\t\t\t\t\t<font-awesome-icon :icon=\"['far', 'trash-alt']\" class=\"secondary-text ml-3 deleteMsg\"/>\r\n\t\t\t\t\t\t\t<div class=\"confirmDelete position-absolute text-sm d-none\" v-on:click=\"deleteMessage\">Удалить сообщение?</div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"msg_content\">\r\n\t\t\t\t\t<pre class=\"mb-0\">{{obj.messageText}}</pre>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tmsg: Object,\r\n\t\t\tlocalMsg: Object,\r\n\t\t\tmateName: String\r\n\t\t},\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tobj: {},\r\n\t\t\t\tisMe: true,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tmyName: '',\r\n\t\t\t\ttimeoutShow: setTimeout(()=>{}, 0),\r\n\t\t\t\ttimeoutDisplay: setTimeout(()=>{}, 0)\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeMount() {\r\n\t\t\tthis.myName = localStorage.getItem('name');\r\n\t\t\tif (this.localMsg == null) {\r\n\t\t\t\tthis.obj = this.msg;\r\n\t\t\t\tthis.isMe = localStorage.getItem('userId') === this.obj.sender.userId;\r\n\t\t\t} else {\r\n\t\t\t\tthis.obj = this.localMsg;\r\n\t\t\t\tthis.isLoading = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tconfirmDelete(e) {\r\n\t\t\t\tlet n = 0, span;\r\n\t\t\t\twhile (e.path[n].tagName !== \"SPAN\") n++;\r\n\t\t\t\tspan = e.path[n];\r\n\r\n\t\t\t\tlet confirmation = span.querySelector('.confirmDelete');\r\n\r\n\t\t\t\t// Удаление старого timeout\r\n\r\n\t\t\t\t\tclearTimeout(this.timeoutShow);\r\n\t\t\t\t\tclearTimeout(this.timeoutDisplay);\r\n\r\n\r\n\t\t\t\tconfirmation.classList.toggle('d-none');\r\n\t\t\t\tsetTimeout(()=>{confirmation.classList.add('show')}, 0);\r\n\t\t\t\tthis.timeoutShow = setTimeout(() => {\r\n\t\t\t\t\tconfirmation.classList.remove('show')\r\n\t\t\t\t\tthis.timeoutDisplay = setTimeout(()=>{confirmation.classList.toggle('d-none')}, 800);\r\n\t\t\t\t}, 3000);\r\n\r\n\t\t\t\t// console.log(confirmation);\r\n\t\t\t},\r\n\t\t\tdeleteMessage() {\r\n\t\t\t\tthis.isLoading = true;\r\n\t\t\t\tthis.$emit('delMsg', this.msg.messageId);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.my-msg {\r\n\t\tbackground-color: var(--my-msg-bg) !important;\r\n\t}\r\n\t.msg_item {\r\n\t\tbackground-color: var(--mate-msg-bg);\r\n\t\tmargin-bottom: 10px;\r\n\r\n\r\n\t\t.msg_content pre {\r\n\t\t\tcolor: var(--primary-text);\r\n\t\t\tfont-size: 1rem;\r\n\t\t\tfont-family: cursive;\r\n\t\t\twhite-space: pre-wrap;\r\n\t\t}\r\n\r\n\t\t&:last-child {\r\n\t\t\tmargin-bottom: 20px;\r\n\t\t}\r\n\t\t&:first-child {\r\n\t\t\tmargin-top: 20px;\r\n\t\t}\r\n\r\n\t\t.messageLoading {\r\n\t\t\tmargin-top: 3px;\r\n\t\t\tmargin-right: 15px;\r\n\t\t\tdisplay: inline-block !important;\r\n\t\t\tline-height: 1rem;\r\n\t\t\t> div {\r\n\t\t\t\tmargin: 0 !important;\r\n\t\t\t\twidth: 1rem;\r\n\t\t\t\theight: 1rem;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.deleteMsg {\r\n\t\t\ttransition-duration: 0.2s;\r\n\t\t\tuser-select: none;\r\n\t\t\t&:hover {\r\n\t\t\t\ttransition-duration: 0.2s;\r\n\t\t\t\tcolor: #ef4b4c !important;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.confirmDelete {\r\n\t\t\topacity: 0;\r\n\t\t\ttransition-duration: 0.8s;\r\n\t\t\tpadding: 5px;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 1.2em;\r\n\t\t\tborder-radius: 10px 0 10px 10px;\r\n\t\t\tborder: 1px solid #ef4b4c;\r\n\t\t\tcolor: #ef4b4c;\r\n\t\t\tbackground: #fbdddd;\r\n\t\t\tright: 0;\r\n\t\t\tuser-select: none;\r\n\t\t\t&.show {\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\topacity: 1;\r\n\t\t\t\ttransition-duration: 0.2s;\r\n\t\t\t}\r\n\t\t\t&.show:hover {\r\n\t\t\t\tbox-shadow: 2px 2px 5px rgba(0,0,0,0.2);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages_Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages_Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages_Item.vue?vue&type=template&id=703c0181&\"\nimport script from \"./Messages_Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages_Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Messages_Item.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t\t<div class=\"container main-component p-0 position-relative d-flex flex-column\" >\r\n\r\n\t\t\t<div class=\"msg-container-header p-2 d-flex align-items-center flex-row primary-text\">\r\n\t\t\t\t<span class=\"avatar ml-3\" :class=\"'color'+mateColor\">{{this.mateName[0]}}</span>\r\n\t\t\t\t<span class=\"ml-3\">@{{ this.mateLogin }}</span>\r\n\t\t\t\t<strong class=\"ml-2\">{{ this.mateName }}</strong>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div id=\"msg-container\" class=\"overflow-auto position-relative flex-grow-1 mx-0\" >\r\n\t\t\t\t<Loading v-if=\"messages == null\" />\r\n\t\t\t\t<div class=\"position-absolute d-flex flex-column msg-wrapper px-3\" v-if=\"messages != null\">\r\n\t\t\t\t\t<p class=\"text-center secondary-text\" v-if=\"messages.length === 0\">Нет сообщений</p>\r\n\t\t\t\t\t<Message v-bind:key=\"item.messageId\" v-for=\"item in messages\" v-bind:msg=\"item\" v-bind:mateName=\"mateName\" @delMsg=\"deleteMessage\"/>\r\n\t\t\t\t\t<Message v-bind:key=\"index\" v-for=\"(item, index) in localMessages\" v-bind:localMsg=\"item\" v-bind:mateName=\"mateName\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"msg-container-bottom py-3\">\r\n\t\t\t\t<div class=\"d-flex \">\r\n\t\t\t\t\t<div style=\"width: calc(100% - 145px)\" class=\"pl-3\">\r\n\t\t\t\t\t\t<div contenteditable=\"true\" id=\"message-input\" class=\"secondary-text\" @keypress=\"keyPress\" @focusin=\"inputFocusIn\" @focusout=\"inputFocusOut\" placeholder=\"Напишите сообщение...\">Напишите сообщение...</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"min-width: 145px\" class=\"px-3\">\r\n\t\t\t\t\t\t<input type=\"button\" class=\"btn btn-outline-primary w-100\" value=\"Отправить\" @click=\"sendMessage\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Message from '@/components/Messages/Messages_Item'\r\n\timport Loading from '@/components/Loading';\r\n\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tchats: Array,\r\n\r\n\t\t\tchatId: String,\r\n\t\t\tmateLogin: String,\r\n\t\t\tmateName: String,\r\n\t\t\tmateColor: Number\r\n\t\t},\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tmessages: [],\r\n\t\t\t\tlocalMessages: {},\r\n\t\t\t\tlocalMessageCounter: 0,\r\n\t\t\t\tmate: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeMount() {\r\n\t\t\tthis.updateMessages();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tdocument.getElementById('message-input').addEventListener('paste', (event) => {\r\n\t\t\t\tlet paste = (event.clipboardData || window.clipboardData).getData('text').split('\\n');\r\n\r\n\t\t\t\tconst selection = window.getSelection();\r\n\t\t\t\tif (!selection.rangeCount) return false;\r\n\r\n\t\t\t\tselection.deleteFromDocument();\r\n\t\t\t\tfor(let i = 0; i < paste.length; i++) {\r\n\t\t\t\t\tselection.getRangeAt(0).insertNode(document.createTextNode(paste[i]));\r\n\t\t\t\t\tselection.collapseToEnd();\r\n\t\t\t\t\tif (i !== paste.length - 1) {\r\n\t\t\t\t\t\tselection.getRangeAt(0).insertNode(document.createElement('br'));\r\n\t\t\t\t\t\tselection.collapseToEnd();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t});\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tchatId() {\r\n\t\t\t\tthis.updateMessages();\r\n\t\t\t},\r\n\t\t\tchats() {\r\n\t\t\t\tthis.updateMessages();\r\n\t\t\t},\r\n\t\t\tmessages() {\r\n\t\t\t\tif (this.messages != null) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlet msg = document.querySelector('#msg-container');\r\n\t\t\t\t\t\tmsg.scrollTo(0, msg.scrollHeight);\r\n\t\t\t\t\t},0);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlocalMessages() {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlet msg = document.querySelector('#msg-container');\r\n\t\t\t\t\tmsg.scrollTo(0, msg.scrollHeight);\r\n\t\t\t\t},0);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tupdateMessages() {\r\n\t\t\t\tfor (let chat of this.chats) {\r\n\t\t\t\t\tif (chat.chatId === this.chatId) {\r\n\t\t\t\t\t\tthis.messages = chat.messages;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsendMessage() {\r\n\t\t\t\tlet input = document.getElementById('message-input');\r\n\t\t\t\tif (input.innerText !== input.getAttribute('placeholder') && !input.innerText.match(/^\\s*$/)) {\r\n\t\t\t\t\tlet localMsg = {\r\n\t\t\t\t\t\tmessageText: this.removeUnnecessarySymbols(input.innerText),\r\n\t\t\t\t\t\tsender: { name: localStorage.getItem('name') }\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tlet localMsgId = this.localMessageCounter++;\r\n\t\t\t\t\tthis.$set(this.localMessages, 'i'+localMsgId, localMsg);\r\n\r\n\t\t\t\t\tinput.innerText = '';\r\n\r\n\t\t\t\t\tthis.axios.post(this.$root.url+'msg/new', {}, {params: {uuid: localStorage.getItem('uuid'), chatId: this.chatId, message: localMsg.messageText}})\r\n\t\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\t\tif (!response.data.error) {\r\n\t\t\t\t\t\t\t\tdelete this.localMessages['i'+localMsgId];\r\n\r\n\t\t\t\t\t\t\t\tthis.$emit('newMessage', {chatId: this.chatId, message: response.data});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.log(response.data.error);\r\n\t\t\t\t\t\t\t\t// location.reload();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteMessage(msgId) {\r\n\t\t\t\tthis.axios.delete(this.$root.url+'msg/delete', {params: {uuid: localStorage.getItem('uuid'), chatId: this.chatId, messageId: msgId}})\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tif (!response.data.error) {\r\n\t\t\t\t\t\t\tthis.$emit('delMessage', {chatId: this.chatId, messageId: msgId});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoveUnnecessarySymbols(msg) {\r\n\t\t\t\tmsg = msg.trim();\r\n\r\n\t\t\t\twhile ( /\\n{4}/.test(msg) )\r\n\t\t\t\t\tmsg = msg.replaceAll(/\\n{4}/g, '\\n\\n\\n');\r\n\r\n\t\t\t\tmsg.length > 1000 ? msg = msg.slice(0, 1000) : null;\r\n\r\n\t\t\t\treturn msg;\r\n\t\t\t},\r\n\t\t\tkeyPress(e) {\r\n\t\t\t\tif (!e.shiftKey && e.key === 'Enter') {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.sendMessage();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinputFocusIn(e) {\r\n\t\t\t\tif(e.target.innerText === e.target.getAttribute('placeholder')) {\r\n\t\t\t\t\te.target.innerText = '';\r\n\t\t\t\t\te.target.classList.remove('secondary-text');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinputFocusOut(e) {\r\n\t\t\t\tif(e.target.innerText === '') {\r\n\t\t\t\t\te.target.innerText = e.target.getAttribute('placeholder');\r\n\t\t\t\t\te.target.classList.add('secondary-text');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tMessage,\r\n\t\t\tLoading\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n\t.main-component {\r\n\t\tbackground-color: var(--container-bg);\r\n\t}\r\n\r\n\t#message-input {\r\n\t\tborder: 1px solid var(--border);\r\n\t\tborder-radius: 5px;\r\n\t\tpadding: 5px 20px;\r\n\t\twidth: 100%;\r\n\t\tmax-height: 300px;\r\n\t\toverflow: auto;\r\n\t\tcolor: var(--secondary-text);\r\n\r\n\t\t&:focus {\r\n\t\t\tborder: 1px solid var(--secondary-text);\r\n\t\t\toutline: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.msg-container-header {\r\n\t\tborder-bottom: 1px solid var(--border);\r\n\t\tbackground: var(--card-bg);\r\n\t\tbox-shadow: 0px 10px 10px -10px rgba(34, 60, 80, 0.1);\r\n\t\tz-index: 1;\r\n\t\theight: 60px;\r\n\t}\r\n\t.msg-container-bottom {\r\n\t\tborder-top: 1px solid var(--border);\r\n\t\tbackground: var(--card-bg);\r\n\t\tbox-shadow: 0px -10px 10px -10px rgba(34, 60, 80, 0.1);\r\n\t\tz-index: 1;\r\n\t}\r\n\t.msg-wrapper {\r\n\t\tmin-width: 100%;\r\n\t\tmin-height: 100%;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=eebb7784&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Messages.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-0 position-relative main-component\"},[_c('div',{staticClass:\"settings-top p-2 d-flex align-items-center\",staticStyle:{\"height\":\"60px\"}},[_c('div',{staticClass:\"d-flex align-items-center primary-text\"},[_c('span',{staticClass:\"avatar ml-3\",class:'color'+_vm.colorScheme},[_vm._v(_vm._s(_vm.name[0]))]),_c('span',{staticClass:\"ml-3\"},[_vm._v(\"@\"+_vm._s(_vm.login))]),_c('strong',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.name))])])]),_c('div',{staticClass:\"p-3\"},[_c('div',{staticClass:\"card card-body\"},[_c('form',[_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col text-right\"},[_c('div',{class:_vm.alertClass,attrs:{\"id\":\"settingsAlert\"}},[_vm._v(_vm._s(_vm.alertText))])])]),_c('hr'),_c('div',{staticClass:\"row mb-2 align-items-center\"},[_c('div',{staticClass:\"col-3 col-lg-2 primary-text\"},[_vm._v(\"Аватар\")]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"d-flex avatar-select-container flex-wrap\"},_vm._l((8),function(n){return _c('span',{key:n,class:'avatar-select color'+n + (n == _vm.colorScheme ? ' selected' : ''),attrs:{\"data-n\":n}},[_vm._v(\" \"+_vm._s(_vm.name[0])+\" \")])}),0)])]),_c('div',{staticClass:\"row mb-2 align-items-center\"},[_c('div',{staticClass:\"col-3 col-lg-2 primary-text\"},[_vm._v(\"Имя\")]),_c('div',{staticClass:\"col\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"settingsName\",\"placeholder\":\"Имя\",\"autocomplete\":\"off\"},domProps:{\"value\":_vm.name}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" С большой буквы, не менее 3-х символов. \")])])]),_c('div',{staticClass:\"row mb-2 align-items-center\"},[_c('div',{staticClass:\"col-3 col-lg-2 primary-text\"},[_vm._v(\"Логин\")]),_c('div',{staticClass:\"col\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"settingsLogin\",\"placeholder\":\"Логин\",\"autocomplete\":\"off\"},domProps:{\"value\":_vm.login}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Маленькие латинские буквы или цифры, не менее 4-х символов, первый символ не цифра. \")])])]),_vm._m(1),_c('div',{staticClass:\"d-flex justify-content-center mt-3 position-relative\"},[(_vm.isLoading)?_c('Loading',{staticClass:\"position-absolute\",staticStyle:{\"right\":\"10px\",\"bottom\":\"0\"}}):_vm._e(),_c('input',{staticClass:\"btn btn-outline-primary\",attrs:{\"type\":\"button\",\"id\":\"settingsSubmit\",\"disabled\":_vm.isLoading,\"value\":\"Сохранить изменения\"}})],1)])]),_c('div',{staticClass:\"card card-body mt-3\"},[_vm._m(2),_c('hr'),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col text-center\"},[_c('span',{staticClass:\"primary-text\"},[_vm._v(\"Темная тема\")]),_c('input',{staticClass:\"mx-3 switch\",attrs:{\"type\":\"checkbox\",\"id\":\"switch\",\"name\":\"theme\"},domProps:{\"checked\":!_vm.darkTheme}}),_c('span',{staticClass:\"primary-text\"},[_vm._v(\"Свободная тема\")])])])])]),_c('p',{staticClass:\"secondary-text text-center position-absolute\",staticStyle:{\"bottom\":\"0\",\"width\":\"300px\",\"left\":\"Calc(50% - 150px)\",\"font-size\":\"0.875rem\",\"letter-spacing\":\"1px\"}},[_vm._v(\" Разработал\"),_c('font-awesome-icon',{staticClass:\"secondary-text mx-2\",attrs:{\"icon\":['fas', 'code']}}),_vm._v(\"Волосюк Даниил \")],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col\"},[_c('h5',{staticClass:\"mb-0 primary-text\"},[_vm._v(\"Изменить профиль\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-3 col-lg-2 primary-text\"},[_vm._v(\"Пароль\")]),_c('div',{staticClass:\"col\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"settingsPassword\",\"placeholder\":\"Новый пароль\",\"autocomplete\":\"off\"}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Не менее 4-х латинский букв или цифр. \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('h5',{staticClass:\"mb-0 primary-text\"},[_vm._v(\"Изменить тему\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"p-0 position-relative main-component\">\r\n\t\t<div class=\"settings-top p-2 d-flex align-items-center\" style=\"height: 60px\">\r\n\t\t\t<div class=\"d-flex align-items-center primary-text\">\r\n\t\t\t\t<span class=\"avatar ml-3\" :class=\"'color'+colorScheme\">{{name[0]}}</span>\r\n\t\t\t\t<span class=\"ml-3\">@{{ login }}</span>\r\n\t\t\t\t<strong class=\"ml-2\">{{ name }}</strong>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"p-3\">\r\n\r\n\t\t\t<div class=\"card card-body\">\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<h5 class=\"mb-0 primary-text\">Изменить профиль</h5>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"col text-right\">\r\n\t\t\t\t\t\t\t<div id=\"settingsAlert\" :class=\"alertClass\">{{alertText}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<hr>\r\n\r\n\t\t\t\t\t<div class=\"row mb-2 align-items-center\">\r\n\t\t\t\t\t\t<div class=\"col-3 col-lg-2 primary-text\">Аватар</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<div class=\"d-flex avatar-select-container flex-wrap\">\r\n\t\t\t\t\t\t\t<span v-for=\"n in 8\" :key=\"n\"\r\n\t\t\t\t\t\t\t\t:class=\"'avatar-select color'+n + (n == colorScheme ? ' selected' : '')\"\r\n\t\t\t\t\t\t\t\t:data-n=\"n\">\r\n\t\t\t\t\t\t\t\t{{name[0]}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"row mb-2 align-items-center\">\r\n\t\t\t\t\t\t<div class=\"col-3 col-lg-2 primary-text\">Имя</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"settingsName\" placeholder=\"Имя\" :value=\"name\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t<div class=\"invalid-feedback\">\r\n\t\t\t\t\t\t\t\tС большой буквы, не менее 3-х символов.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"row mb-2 align-items-center\">\r\n\t\t\t\t\t\t<div class=\"col-3 col-lg-2 primary-text\">Логин</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"settingsLogin\" placeholder=\"Логин\" :value=\"login\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t<div class=\"invalid-feedback\">\r\n\t\t\t\t\t\t\t\tМаленькие латинские буквы или цифры, не менее 4-х символов, первый символ не цифра.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"row align-items-center\">\r\n\t\t\t\t\t\t<div class=\"col-3 col-lg-2 primary-text\">Пароль</div>\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<input type=\"password\" class=\"form-control\" id=\"settingsPassword\" placeholder=\"Новый пароль\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t<div class=\"invalid-feedback\">\r\n\t\t\t\t\t\t\t\tНе менее 4-х латинский букв или цифр.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"d-flex justify-content-center mt-3 position-relative\">\r\n\t\t\t\t\t\t<Loading v-if=\"isLoading\" class=\"position-absolute\" style=\"right: 10px; bottom: 0\"/>\r\n\t\t\t\t\t\t<input type=\"button\" id=\"settingsSubmit\" class=\"btn btn-outline-primary\" :disabled=\"isLoading\" value=\"Сохранить изменения\">\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"card card-body mt-3\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<h5 class=\"mb-0 primary-text\">Изменить тему</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr>\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col text-center\">\r\n\t\t\t\t\t\t<span class=\"primary-text\">Темная тема</span>\r\n\t\t\t\t\t\t<input type=\"checkbox\" id=\"switch\" class=\"mx-3 switch\" name=\"theme\" :checked=\"!darkTheme\" />\r\n\t\t\t\t\t\t<span class=\"primary-text\">Свободная тема</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<p class=\"secondary-text text-center position-absolute\" style=\"bottom: 0; width: 300px; left: Calc(50% - 150px); font-size: 0.875rem; letter-spacing: 1px;\">\r\n\t\t\tРазработал<font-awesome-icon :icon=\"['fas', 'code']\" class=\"secondary-text mx-2\"/>Волосюк Даниил\r\n\t\t</p>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from '@/components/Loading';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tlogin: null,\r\n\t\t\tname: null,\r\n\t\t\tcolorScheme: null,\r\n\t\t\tisLoading: false,\r\n\t\t\tdarkTheme: false,\r\n\r\n\t\t\talertText: '',\r\n\t\t\talertClass: ''\r\n\t\t}\r\n\t},\r\n\tbeforeMount() {\r\n\t\tlocalStorage.getItem('theme') === 'dark' ? this.darkTheme = true : this.darkTheme = false;\r\n\t\tthis.login = localStorage.getItem('login');\r\n\t\tthis.name = localStorage.getItem('name');\r\n\t\tthis.colorScheme = localStorage.getItem('colorScheme');\r\n\t},\r\n\tmounted() {\r\n\t\tdocument.querySelectorAll('.avatar-select').forEach(avatar => {\r\n\t\t\tavatar.addEventListener('click', (e) => {\r\n\t\t\t\tdocument.querySelectorAll('.avatar-select').forEach(a => {\r\n\t\t\t\t\ta.classList.remove('selected');\r\n\t\t\t\t})\r\n\t\t\t\te.target.classList.add('selected');\r\n\t\t\t});\r\n\t\t})\r\n\r\n\t\t// Валидация\r\n\t\tconst form = {\r\n\t\t\tn: {\r\n\t\t\t\telem: document.getElementById('settingsName'),\r\n\t\t\t\tregExp: /(^[А-Я][а-я]{2,14}$|^[A-Z][a-z]{2,14}$)/\r\n\t\t\t},\r\n\t\t\tl: {\r\n\t\t\t\telem: document.getElementById('settingsLogin'),\r\n\t\t\t\tregExp: /^[a-z][0-9a-z]{3,9}$/\r\n\t\t\t},\r\n\t\t\tp: {\r\n\t\t\t\telem: document.getElementById('settingsPassword'),\r\n\t\t\t\tregExp: /((^[0-9a-zA-Z]{4,20}$)|(^$))/\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet firstTime = true;\r\n\t\tlet submit = document.getElementById('settingsSubmit');\r\n\r\n\t\tsubmit.addEventListener('click', () => {\r\n\t\t\tlet flag = true;\r\n\r\n\t\t\tfor (let f in form) {\r\n\t\t\t\tif (form[f].elem.value.match(form[f].regExp)) {\r\n\t\t\t\t\t// Валидация пройдена\r\n\t\t\t\t\tform[f].elem.classList.remove('is-invalid');\r\n\t\t\t\t\tform[f].elem.classList.add('is-valid');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Валидация не пройдена\r\n\t\t\t\t\tform[f].elem.classList.remove('is-valid');\r\n\t\t\t\t\tform[f].elem.classList.add('is-invalid');\r\n\t\t\t\t\tflag = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (firstTime) {\r\n\t\t\t\t\tform[f].elem.addEventListener('input', () => validateField(f));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (firstTime) firstTime = false;\r\n\r\n\t\t\t// Вся валидация пройдена, отправляем запрос на сервер\r\n\t\t\tif (flag) {\r\n\t\t\t\tthis.saveProfile();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction validateField (f) {\r\n\t\t\tif (form[f].elem.value.match(form[f].regExp)) {\r\n\t\t\t\t// Валидация пройдена\r\n\t\t\t\tform[f].elem.classList.remove('is-invalid');\r\n\t\t\t\tform[f].elem.classList.add('is-valid');\r\n\t\t\t} else {\r\n\t\t\t\t// Валидация не пройдена\r\n\t\t\t\tform[f].elem.classList.remove('is-valid');\r\n\t\t\t\tform[f].elem.classList.add('is-invalid');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Смена темы\r\n\t\tlet checkbox = document.querySelector('#switch');\r\n\r\n\t\tcheckbox.addEventListener('change', function() {\r\n\t\t\tif(!this.checked) {\r\n\t\t\t\ttrans()\r\n\t\t\t\tdocument.documentElement.setAttribute('data-theme', 'dark');\r\n\t\t\t\tlocalStorage.setItem('theme', 'dark');\r\n\t\t\t} else {\r\n\t\t\t\ttrans()\r\n\t\t\t\tdocument.documentElement.setAttribute('data-theme', 'light')\r\n\t\t\t\tlocalStorage.setItem('theme', 'light');\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlet trans = () => {\r\n\t\t\tdocument.documentElement.classList.add('transition');\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tdocument.documentElement.classList.remove('transition')\r\n\t\t\t}, 1000)\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsaveProfile() {\r\n\t\t\tthis.isLoading = true;\r\n\r\n\t\t\tlet params = {uuid: localStorage.getItem('uuid')};\r\n\t\t\tparams.name = document.querySelector('#settingsName').value;\r\n\t\t\tparams.login = document.querySelector('#settingsLogin').value;\r\n\t\t\tparams.pass = document.querySelector('#settingsPassword').value;\r\n\t\t\tparams.colorScheme = +document.querySelector('.avatar-select-container .selected').dataset.n;\r\n\r\n\r\n\t\t\tthis.axios.put(this.$root.url+'users/edit', {}, {params: params})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t\tif (!response.data.error) {\r\n\t\t\t\t\t\tthis.name = response.data.name;\r\n\t\t\t\t\t\tthis.login = response.data.login;\r\n\t\t\t\t\t\tthis.colorScheme = response.data.colorScheme;\r\n\t\t\t\t\t\tlocalStorage.setItem('name', response.data.name);\r\n\t\t\t\t\t\tlocalStorage.setItem('login', response.data.login);\r\n\t\t\t\t\t\tlocalStorage.setItem('colorScheme', response.data.colorScheme);\r\n\t\t\t\t\t\tthis.alertText = 'Успешно сохранено';\r\n\t\t\t\t\t\tthis.alertClass = 'success';\r\n\t\t\t\t\t\tsetTimeout(() => {this.alertClass = ''}, 2000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Ошибка при сохранении\r\n\t\t\t\t\t\tthis.alertText = response.data.error;\r\n\t\t\t\t\t\tthis.alertClass = 'error';\r\n\t\t\t\t\t\tsetTimeout(() => {this.alertClass = ''}, 2000);\r\n\t\t\t\t\t\t// location.reload();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tLoading\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\thtml.transition,\r\n\thtml.transition *,\r\n\thtml.transition *:before,\r\n\thtml.transition *:after {\r\n\t\ttransition: all 750ms !important;\r\n\t\ttransition-delay: 0s !important;\r\n\t}\r\n\r\n\t.card {\r\n\t\tbackground-color: var(--card-bg);\r\n\t\tcolor: var(--primary-text);\r\n\t}\r\n\t.settings-top {\r\n\t\tbox-shadow: 0px 10px 10px -10px rgba(34, 60, 80, 0.1);\r\n\t\tbackground-color: var(--card-bg);\r\n\t\tborder-bottom: 1px solid var(--border);\r\n\t}\r\n\r\n\t#settingsAlert  {\r\n\t\ttransition-duration: 0.3s;\r\n\t\topacity: 0;\r\n\t\t&.success {\r\n\t\t\tcolor: #28a745;\r\n\t\t\ttransition-duration: 0.3s;\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t\t&.error {\r\n\t\t\tcolor: #dc3545;\r\n\t\t\ttransition-duration: 0.3s;\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\r\n\t.avatar-select-container {\r\n\t\t.avatar-select {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\twidth: 34px;\r\n\t\t\theight: 34px;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tuser-select: none;\r\n\t\t\tcursor: pointer;\r\n\t\t\tborder: 1px solid transparent;\r\n\t\t\ttransition-duration: 0.2s;\r\n\r\n\t\t\tmargin: 4px;\r\n\t\t}\r\n\r\n\t\t.avatar-select:hover {\r\n\t\t\ttransition-duration: 0.2s;\r\n\t\t\tborder: 2px solid #6c757d;\r\n\t\t}\r\n\r\n\t\t.selected {\r\n\t\t\ttransition-duration: 0.2s;\r\n\t\t\tborder: 2px solid #007bff;\r\n\t\t\ttransform: scale(1.3);\r\n\t\t}\r\n\r\n\t\t.selected:hover {\r\n\t\t\tborder: 2px solid #007bff;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t.avatar-select {\r\n\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=3e00f712&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sec-component p-0 d-flex flex-column\"},[_c('div',{staticClass:\"newChat-top d-flex align-items-center pl-4 justify-content-between\"},[_c('span',{staticClass:\"h5 mb-0\"},[_vm._v(\"Новый диалог\")]),_c('span',{staticClass:\"mr-3 p-2 addChat\",on:{\"click\":_vm.openChatList}},[_c('font-awesome-icon',{staticClass:\"fa-lg\",attrs:{\"icon\":\"share\"}})],1)]),_c('div',{staticClass:\"searchUser\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"Введите имя..\"},on:{\"input\":_vm.search}})]),_c('div',{staticClass:\"overflow-auto position-relative flex-grow-1 mx-0\"},[(_vm.users == null)?_c('Loading'):_vm._e(),(_vm.users != null)?_c('div',{staticClass:\"chatList-wrapper position-absolute d-flex flex-column px-3 py-3\"},[(_vm.isDone)?_c('p',{staticClass:\"text-center secondary-text\"},[_vm._v(\"Вы уже добавили всех пользователей\")]):_vm._e(),(_vm.users.length === 0 && !_vm.isDone)?_c('p',{staticClass:\"text-center secondary-text\"},[_vm._v(\"Пользователь не найден\")]):_vm._e(),_vm._l((_vm.users),function(user){return _c('NewChat_Item',{key:user.login,attrs:{\"user\":user},on:{\"removeFromSearch\":_vm.removeFromSearch}})})],2):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"newChat_item card shadow-sm\"},[_c('div',{staticClass:\"card-body p-2\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-2 align-self-center d-none d-md-block\"},[_c('span',{staticClass:\"avatar\",class:'color'+_vm.user.colorScheme},[_vm._v(_vm._s(this.user.name[0]))])]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"d-flex h-100 align-items-center justify-content-between\"},[_c('p',{staticClass:\"card-title mb-0 mate\"},[_c('span',[_vm._v(\"@\"+_vm._s(this.user.login))]),_c('strong',{staticClass:\"pl-2\"},[_vm._v(_vm._s(this.user.name))])]),_c('span',{staticClass:\"mr-2 addNewChat p-2\",on:{\"click\":_vm.addNewChat}},[(!_vm.loading)?_c('font-awesome-icon',{staticClass:\"fa-lg\",attrs:{\"icon\":\"plus\"}}):_vm._e(),(_vm.loading)?_c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e()],1)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"newChat_item card shadow-sm\">\r\n\t\t<div class=\"card-body p-2\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col-2 align-self-center d-none d-md-block\">\r\n\t\t\t\t\t<span class=\"avatar\" :class=\"'color'+user.colorScheme\">{{this.user.name[0]}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t<div class=\"d-flex h-100 align-items-center justify-content-between\">\r\n\t\t\t\t\t\t<p class=\"card-title mb-0 mate\"><span>@{{this.user.login}}</span><strong class=\"pl-2\">{{this.user.name}}</strong></p>\r\n\t\t\t\t\t\t<span class=\"mr-2 addNewChat p-2\" @click=\"addNewChat\">\r\n\t\t\t\t\t\t\t<font-awesome-icon icon=\"plus\" class=\"fa-lg\" v-if=\"!loading\"/>\r\n\t\t\t\t\t\t\t<div class=\"spinner-border\" role=\"status\" v-if=\"loading\">\r\n\t\t\t\t\t\t\t\t<span class=\"sr-only\">Loading...</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\tuser: Object\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\taddNewChat() {\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.axios.post(this.$root.url+'chats/new', {}, {params: {myUuid: localStorage.getItem('uuid'), mateId: this.user.userId}})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tif (!response.data.error) {\r\n\t\t\t\t\t\tlet friends = localStorage.getItem('friends')\r\n\t\t\t\t\t\tfriends ? friends = JSON.parse(friends) : friends = [];\r\n\t\t\t\t\t\tfriends.push(response.data.mate.userId);\r\n\t\t\t\t\t\tlocalStorage.setItem('friends', JSON.stringify(friends));\r\n\t\t\t\t\t\tthis.$emit('removeFromSearch', response.data.mate.userId);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Неверный id, кто-то изменил localStorage\r\n\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.newChat_item {\r\n\t\tmargin-bottom: 10px;\r\n\t\tbackground-color: var(--card-bg);\r\n\t\tcolor: var(--primary-text);\r\n\r\n\t\t&:last-child {\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.addNewChat {\r\n\t\tcursor: pointer;\r\n\t\ttransition-duration: 0.2s;\r\n\t\tcolor: var(--new-chat-button);\r\n\r\n\t\t&:hover {\r\n\t\t\ttransition-duration: 0.2s;\r\n\t\t\tcolor: var(--new-chat-button-hover);\r\n\t\t}\r\n\r\n\t\t.spinner-border {\r\n\t\t\twidth: 1.3rem;\r\n\t\t\theight: 1.3rem;\r\n\t\t\tborder-width: 0.2em;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewChat_Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewChat_Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewChat_Item.vue?vue&type=template&id=5c2d2475&\"\nimport script from \"./NewChat_Item.vue?vue&type=script&lang=js&\"\nexport * from \"./NewChat_Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewChat_Item.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div class=\"sec-component p-0 d-flex flex-column\">\r\n\t\t<div class=\"newChat-top d-flex align-items-center pl-4 justify-content-between\">\r\n\t\t\t<span class=\"h5 mb-0\">Новый диалог</span>\r\n\t\t\t<span class=\"mr-3 p-2 addChat\" @click=\"openChatList\">\r\n\t\t\t\t<font-awesome-icon icon=\"share\" class=\"fa-lg\"/>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t\t<div class=\"searchUser\">\r\n\t\t\t<input type=\"text\" class=\"\" placeholder=\"Введите имя..\" @input=\"search\">\r\n\t\t</div>\r\n\t\t<div class=\"overflow-auto position-relative flex-grow-1 mx-0\">\r\n\t\t\t<Loading v-if=\"users == null\"/>\r\n\t\t\t<div class=\"chatList-wrapper position-absolute d-flex flex-column px-3 py-3\" v-if=\"users != null\">\r\n\t\t\t\t<p class=\"text-center secondary-text\" v-if=\"isDone\">Вы уже добавили всех пользователей</p>\r\n\t\t\t\t<p class=\"text-center secondary-text\" v-if=\"users.length === 0 && !isDone\">Пользователь не найден</p>\r\n\t\t\t\t<NewChat_Item v-bind:key=\"user.login\" v-for=\"user in users\" v-bind:user=\"user\" @removeFromSearch=\"removeFromSearch\"/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from '@/components/Loading';\r\nimport NewChat_Item from \"@/components/NewChat/NewChat_Item\";\r\n\r\nexport default {\r\n\tasync beforeMount() {\r\n\t\tlet users = await this.findUsers();\r\n\t\tif (users.length === 0) {\r\n\t\t\tthis.isDone = true;\r\n\t\t}\r\n\t\tthis.users = users;\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tusers: null,\r\n\t\t\tisDone: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\topenChatList() {\r\n\t\t\tthis.$emit('openChatList');\r\n\t\t},\r\n\t\tfindUsers(search='') {\r\n\t\t\treturn this.axios.get(this.$root.url + 'users/find', {params: {text: search}})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tif (!response.data.error) {\r\n\t\t\t\t\t\tlet friends = localStorage.getItem('friends') ? JSON.parse(localStorage.getItem('friends')) : [];\r\n\r\n\t\t\t\t\t\treturn response.data.filter(item => {\r\n\t\t\t\t\t\t\t// Фильтрация самого себя\r\n\t\t\t\t\t\t\tif (item.userId === localStorage.getItem('userId')) {\r\n\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Фильтрация уже добавленных пользователей\r\n\t\t\t\t\t\t\tfor (let user of friends) {\r\n\t\t\t\t\t\t\t\tif (user === item.userId) return false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tasync search(e) {\r\n\t\t\tif (!this.isDone) {\r\n\t\t\t\tlet result = await this.findUsers(e.target.value);\r\n\t\t\t\tif (e.target.value.length === 0 && result.length === 0) {\r\n\t\t\t\t\tthis.isDone = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.users = result;\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveFromSearch(userId) {\r\n\t\t\tthis.users = this.users.filter(item => {\r\n\t\t\t\treturn item.userId !== userId;\r\n\r\n\t\t\t});\r\n\t\t\tif (this.users.length === 0) this.isDone = true;\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tLoading,\r\n\t\tNewChat_Item\r\n\t}\r\n}\r\n</script>\r\n\r\n<style  lang=\"scss\">\r\n\t.chatList-wrapper {\r\n\t\tmin-width: 100%;\r\n\t\tmin-height: 100%;\r\n\t}\r\n\t.searchUser {\r\n\t\tbox-shadow: 0px 10px 10px -10px rgba(34, 60, 80, 0.1);\r\n\r\n\t\tinput {\r\n\t\t\twidth: 100%;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tborder-style: solid;\r\n\t\t\tborder-width: 1px;\r\n\t\t\tborder-right: 0;\r\n\t\t\tborder-left: 0;\r\n\r\n\t\t\tpadding: 1px 25px;\r\n\r\n\t\t\tcolor: var(--primary-text);\r\n\t\t\tborder-color: var(--border);\r\n\t\t\tbackground-color: var(--card-bg);\r\n\r\n\t\t\t&::placeholder {\r\n\t\t\t\tcolor: var(--secondary-text);\r\n\t\t\t}\r\n\r\n\t\t\t&:focus {\r\n\t\t\t\toutline: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.newChat-top {\r\n\t\tbackground: var(--card-bg);\r\n\t\tcolor: var(--primary-text);\r\n\t\theight: 59px;\r\n\t\tposition: relative;\r\n\t\tz-index: 15;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewChat.vue?vue&type=template&id=e424de5a&\"\nimport script from \"./NewChat.vue?vue&type=script&lang=js&\"\nexport * from \"./NewChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewChat.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"logotype\",staticStyle:{\"enable-background\":\"new 0 0 28.46 28.46\"},attrs:{\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 28.46 28.46\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M8.825,17.157c-3.564-0.992-6.09-3.074-6.09-5.423c0-3.274,4.895-6.04,10.69-6.04\\n\\t\\t\\tc5.453,0,10.107,2.45,10.637,5.467c1.016,0.36,1.938,0.828,2.727,1.395c0.037-0.27,0.061-0.543,0.061-0.821\\n\\t\\t\\tc0-4.921-5.897-8.775-13.425-8.775S0,6.814,0,11.734c0,3.955,3.813,7.218,9.216,8.347c-0.285-0.69-0.442-1.426-0.442-2.191\\n\\t\\t\\tC8.775,17.643,8.794,17.398,8.825,17.157z M27.067,21.185c0.88-0.948,1.393-2.073,1.393-3.295c0-1.502-0.763-2.862-2.048-3.92\\n\\t\\t\\tc-0.673-0.555-1.495-1.02-2.42-1.385c-1.365-0.539-2.962-0.851-4.691-0.851c-4.927,0-8.819,2.49-9.128,5.739\\n\\t\\t\\tc-0.013,0.138-0.03,0.275-0.03,0.415c0,0.882,0.266,1.714,0.743,2.465c1.389,2.188,4.592,3.688,8.416,3.688\\n\\t\\t\\tc1.542,0,2.981-0.248,4.244-0.682l4.492,2.141C28.038,25.5,27.067,21.185,27.067,21.185z M15.148,20.435\\n\\t\\t\\tc-1.41-0.674-2.27-1.633-2.27-2.545c0-0.043,0.022-0.086,0.026-0.129c0.135-1.584,2.712-3.291,6.398-3.291\\n\\t\\t\\tc1.169,0,2.21,0.188,3.117,0.472c1.072,0.337,1.923,0.824,2.494,1.381c0.509,0.498,0.813,1.039,0.813,1.566\\n\\t\\t\\tc0,1.616-2.638,3.419-6.424,3.419C17.65,21.309,16.239,20.954,15.148,20.435z\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Logo.vue?vue&type=template&id=e6b85430&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"empty position-relative\"},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 28.46 28.46\"},attrs:{\"version\":\"1.1\",\"id\":\"logo\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 28.46 28.46\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M8.825,17.157c-3.564-0.992-6.09-3.074-6.09-5.423c0-3.274,4.895-6.04,10.69-6.04\\n\\t\\t\\t\\tc5.453,0,10.107,2.45,10.637,5.467c1.016,0.36,1.938,0.828,2.727,1.395c0.037-0.27,0.061-0.543,0.061-0.821\\n\\t\\t\\t\\tc0-4.921-5.897-8.775-13.425-8.775S0,6.814,0,11.734c0,3.955,3.813,7.218,9.216,8.347c-0.285-0.69-0.442-1.426-0.442-2.191\\n\\t\\t\\t\\tC8.775,17.643,8.794,17.398,8.825,17.157z M27.067,21.185c0.88-0.948,1.393-2.073,1.393-3.295c0-1.502-0.763-2.862-2.048-3.92\\n\\t\\t\\t\\tc-0.673-0.555-1.495-1.02-2.42-1.385c-1.365-0.539-2.962-0.851-4.691-0.851c-4.927,0-8.819,2.49-9.128,5.739\\n\\t\\t\\t\\tc-0.013,0.138-0.03,0.275-0.03,0.415c0,0.882,0.266,1.714,0.743,2.465c1.389,2.188,4.592,3.688,8.416,3.688\\n\\t\\t\\t\\tc1.542,0,2.981-0.248,4.244-0.682l4.492,2.141C28.038,25.5,27.067,21.185,27.067,21.185z M15.148,20.435\\n\\t\\t\\t\\tc-1.41-0.674-2.27-1.633-2.27-2.545c0-0.043,0.022-0.086,0.026-0.129c0.135-1.584,2.712-3.291,6.398-3.291\\n\\t\\t\\t\\tc1.169,0,2.21,0.188,3.117,0.472c1.072,0.337,1.923,0.824,2.494,1.381c0.509,0.498,0.813,1.039,0.813,1.566\\n\\t\\t\\t\\tc0,1.616-2.638,3.419-6.424,3.419C17.65,21.309,16.239,20.954,15.148,20.435z\"}})])]),_c('p',{staticClass:\"secondary-text text-center position-absolute\",staticStyle:{\"bottom\":\"0\",\"width\":\"300px\",\"left\":\"Calc(50% - 150px)\",\"font-size\":\"0.875rem\",\"letter-spacing\":\"1px\"}},[_vm._v(\" Разработал\"),_c('font-awesome-icon',{staticClass:\"secondary-text mx-2\",attrs:{\"icon\":['fas', 'code']}}),_vm._v(\"Волосюк Даниил \")],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Empty.vue?vue&type=template&id=ce96407c&\"\nvar script = {}\nimport style0 from \"./Empty.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div id=\"app\">\r\n\t\t<div class=\"container-lg vh-100 d-flex flex-column\" style=\"min-width: 600px\">\r\n\t\t\t<div class=\"row header position-relative\">\r\n\t\t\t\t<div class=\"col d-flex align-items-center\">\r\n\t\t\t\t\t<span class=\"logo ml-2\">\r\n\t\t\t\t\t\t<Logo />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<p>Жывеграм</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"d-flex align-items-center mr-3\">\r\n\t\t\t\t\t<button type=\"button\" class=\"btn hb\" @click=\"openSettingsBtn\">Настройки</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn hb\" @click=\"logout\">Выйти</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row flex-grow-1 main-container\">\r\n\t\t\t\t<component class=\"col-4\" :is=\"secondaryComponent\" v-bind=\"secondaryProps\" :chats=\"chats\" :isLoading=\"isChatsLoading\"\r\n\t\t\t\t\t@openMessages=\"openMessages\"\r\n\t\t\t\t\t@openNewChat=\"openNewChat\"\r\n\t\t\t\t\t@openChatList=\"openChatList\"/>\r\n\r\n\t\t\t\t<component class=\"col-8\" :is=\"mainComponent\" v-bind=\"mainProps\" :chats=\"chats\" :isLoading=\"isChatsLoading\"\r\n\t\t\t\t\t@newMessage=\"newMessage\"\r\n\t\t\t\t\t@delMessage=\"delMessage\"/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Loading from '@/components/Loading';\r\n\timport ChatList from '@/components/ChatList/ChatList';\r\n\timport Messages from '@/components/Messages/Messages';\r\n\timport Settings from '@/components/Settings/Settings';\r\n\timport NewChat from '@/components/NewChat/NewChat';\r\n\timport Logo from '@/components/Logo';\r\n\r\n\timport Empty from '@/components/Empty';\r\n\timport axios from \"axios\";\r\n\r\n\texport default {\r\n\t\tname: 'Main',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmainComponent: 'Empty',\r\n\t\t\t\tmainProps: null,\r\n\t\t\t\ttempMainProps: null,\r\n\r\n\t\t\t\tsecondaryComponent: 'ChatList',\r\n\t\t\t\tsecondaryProps: null,\r\n\r\n\t\t\t\tisChatsLoading: true,\r\n\t\t\t\tnotifications: [],\r\n\t\t\t\tchats: null,\r\n\t\t\t\tnewChatsTemp: [],\r\n\t\t\t\tnotificationInterval: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeMount() {\r\n\t\t\tthis.getAllChats();\r\n\t\t\tthis.checkNotifications();\r\n\t\t\tthis.notificationInterval = setInterval(this.checkNotifications, 500);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlogout() {\r\n\t\t\t\tclearInterval(this.notificationInterval);\r\n\t\t\t\tlet theme = localStorage.getItem('theme');\r\n\t\t\t\tlocalStorage.clear();\r\n\t\t\t\ttheme ? localStorage.setItem('theme', theme) : null;\r\n\t\t\t\tthis.$router.push('/auth');\r\n\t\t\t},\r\n\t\t\topenMessages(data) {\r\n\t\t\t\tthis.mainProps = data;\r\n\t\t\t\tthis.mainComponent = \"Messages\";\r\n\t\t\t},\r\n\t\t\topenSettingsBtn() {\r\n\t\t\t\tif (this.mainComponent === \"Settings\" && this.tempMainProps == null) {\r\n\t\t\t\t\tthis.mainComponent = \"Empty\";\r\n\t\t\t\t} else if (this.mainComponent === \"Settings\") {\r\n\t\t\t\t\tthis.mainProps = this.tempMainProps;\r\n\t\t\t\t\tthis.tempMainProps = null;\r\n\t\t\t\t\tthis.mainComponent = \"Messages\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.tempMainProps = this.mainProps;\r\n\t\t\t\t\tthis.mainProps = null;\r\n\t\t\t\t\tthis.mainComponent = \"Settings\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topenNewChat() {\r\n\t\t\t\tthis.secondaryComponent = \"NewChat\";\r\n\t\t\t},\r\n\t\t\topenChatList() {\r\n\t\t\t\tthis.getAllChats();\r\n\t\t\t\tthis.secondaryComponent = \"ChatList\";\r\n\t\t\t},\r\n\t\t\tnewMessage(message) {\r\n\t\t\t\tfor (let i = 0; i < this.chats.length; i++) {\r\n\t\t\t\t\tif (this.chats[i].chatId === message.chatId) {\r\n\t\t\t\t\t\tlet newChat = JSON.parse(JSON.stringify(this.chats[i]));\r\n\t\t\t\t\t\tnewChat.messages.push(message.message);\r\n\t\t\t\t\t\tthis.$set(this.chats, i, newChat);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelMessage(message) {\r\n\t\t\t\tfor (let i = 0; i < this.chats.length; i++) {\r\n\t\t\t\t\tif (this.chats[i].chatId === message.chatId) {\r\n\t\t\t\t\t\tfor (let j = this.chats[i].messages.length-1; j >= 0; j--) {\r\n\t\t\t\t\t\t\tif (this.chats[i].messages[j].messageId === message.messageId) {\r\n\t\t\t\t\t\t\t\tlet newChat = JSON.parse(JSON.stringify(this.chats[i]));\r\n\t\t\t\t\t\t\t\tnewChat.messages.splice(j, 1);\r\n\t\t\t\t\t\t\t\tthis.$set(this.chats, i, newChat);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclearNotifications(chatId) {\r\n\t\t\t\tthis.axios.get(this.$root.url+'chats/clearNotifications', {params: {uuid: localStorage.getItem('uuid'), chatId: chatId}})\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tif (response.data.error) {\r\n\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetAllChats() {\r\n\t\t\t\tthis.axios.get(this.$root.url+'chats/getAll', {params: {uuid: localStorage.getItem('uuid')}})\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tif (!response.data.error) {\r\n\t\t\t\t\t\t\tlet friends = [];\r\n\t\t\t\t\t\t\tthis.chats = [];\r\n\t\t\t\t\t\t\tfor (let i = 0; i < response.data.length; i++) {\r\n\t\t\t\t\t\t\t\tfriends.push(response.data[i].mate.userId);\r\n\t\t\t\t\t\t\t\tthis.$set(this.chats, i, response.data[i]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlocalStorage.setItem('friends', JSON.stringify(friends));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Неверный uuid\r\n\t\t\t\t\t\t\tthis.$router.push('/auth');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcheckNotifications() {\r\n\t\t\t\taxios.get(this.$root.url+'chats/checkNotifications', {params: {uuid: localStorage.getItem('uuid')}})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tif (response.data && response.data.notifications && this.chats) {\r\n\r\n\t\t\t\t\t\tlet no = response.data.notifications;\r\n\t\t\t\t\t\t// Перебор всех уведомлений\r\n\t\t\t\t\t\tfor (let i = 0; i < no.length; i++) {\r\n\t\t\t\t\t\t\tfor (let j = 0; j < this.chats.length; j++) {\r\n\t\t\t\t\t\t\t\t// Чат найден\r\n\t\t\t\t\t\t\t\tif (no[i].chatId === this.chats[j].chatId) {\r\n\t\t\t\t\t\t\t\t\tlet newChat;\r\n\r\n\t\t\t\t\t\t\t\t\t// Взаимное удаление deletedMsg и newMsg\r\n\t\t\t\t\t\t\t\t\tif (no[i].newMsg && no[i].deletedMsg) {\r\n\t\t\t\t\t\t\t\t\t\tfor (let a = 0; a < no[i].newMsg.length; a++) {\r\n\t\t\t\t\t\t\t\t\t\t\tfor (let b = 0; b < no[i].deletedMsg.length; b++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (no[i].newMsg[a].messageId === no[i].deletedMsg[b].messageId) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tno[i].newMsg.splice(a, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ta--;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Определение даты последнего сообщения\r\n\t\t\t\t\t\t\t\t\tlet lmDate;\r\n\t\t\t\t\t\t\t\t\tif (this.chats[j].messages && this.chats[j].messages.length !== 0) {\r\n\t\t\t\t\t\t\t\t\t\tlmDate = (new Date(this.chats[j].messages[this.chats[j].messages.length - 1].sendTime)).getTime();\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Добавление новых сообщений\r\n\t\t\t\t\t\t\t\t\tfor (let newMsg of no[i].newMsg) {\r\n\t\t\t\t\t\t\t\t\t\tif (!lmDate || (new Date(newMsg.sendTime)).getTime() > lmDate) {\r\n\t\t\t\t\t\t\t\t\t\t\t!newChat ? newChat = JSON.parse(JSON.stringify(this.chats[j])) : null;\r\n\t\t\t\t\t\t\t\t\t\t\tnewChat.messages.push(newMsg);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Удаление удалённых сообщений\r\n\t\t\t\t\t\t\t\t\tfor (let deletedMsg of no[i].deletedMsg) {\r\n\t\t\t\t\t\t\t\t\t\tfor (let k = this.chats[j].messages.length-1; k >= 0; k--) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (this.chats[j].messages[k].messageId === deletedMsg.messageId) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t!newChat ? newChat = JSON.parse(JSON.stringify(this.chats[j])) : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewChat.messages.splice(k, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (this.chats[j].messages[k].messageId < deletedMsg.messageId) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Изменение количества новых сообщений\r\n\t\t\t\t\t\t\t\t\tlet newMessagesCount = no[i].newMsg.length;\r\n\t\t\t\t\t\t\t\t\tif (this.chats[j].newMessageCount == null || this.chats[j].newMessageCount !== newMessagesCount) {\r\n\t\t\t\t\t\t\t\t\t\t!newChat ? newChat = JSON.parse(JSON.stringify(this.chats[j])) : null;\r\n\t\t\t\t\t\t\t\t\t\tnewChat.newMessageCount = newMessagesCount;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Очистка уведомлений, если открыт чат\r\n\t\t\t\t\t\t\t\t\tif (this.mainProps && this.mainProps.chatId === no[i].chatId) {\r\n\t\t\t\t\t\t\t\t\t\t!newChat ? newChat = JSON.parse(JSON.stringify(this.chats[j])) : null;\r\n\t\t\t\t\t\t\t\t\t\tnewChat.newMessageCount = 0;\r\n\t\t\t\t\t\t\t\t\t\tthis.clearNotifications(this.mainProps.chatId);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Обновление чата, если есть изменения\r\n\t\t\t\t\t\t\t\t\tif (newChat) {\r\n\t\t\t\t\t\t\t\t\t\tthis.$set(this.chats, j, newChat);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// Конец Чат найден\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.isChatsLoading = false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Появление нового чата в списке чатов\r\n\t\t\t\t\tif (response.data.newChats.length > 0) {\r\n\t\t\t\t\t\tthis.newChatsTemp = response.data.newChats;\r\n\t\t\t\t\t\tif (this.chats) {\r\n\t\t\t\t\t\t\tfor (let newChat of this.newChatsTemp) {\r\n\t\t\t\t\t\t\t\tthis.$set(this.chats, this.chats.length, newChat);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.newChatsTemp = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tChatList,\r\n\t\t\tMessages,\r\n\t\t\tSettings,\r\n\t\t\tLogo,\r\n\t\t\tLoading,\r\n\t\t\tEmpty,\r\n\t\t\tNewChat\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.flip {\r\n\r\n\t}\r\n\r\n\t.text-sm {\r\n\t\tfont-size: 0.85rem !important;\r\n\t}\r\n\r\n\t#app {\r\n\t\tbackground: var(--bg);\r\n\t\tfont-family: cursive;\r\n\t\tfont-size: 16px;\r\n\t\tz-index: 15;\r\n\t}\r\n\r\n\t.main-container {\r\n\t\tbackground-color: var(--container-bg);\r\n\t}\r\n\r\n\t.header {\r\n\t\tbackground: var(--header-bg);\r\n\t\tcolor: var(--header-text);\r\n\t\theight: 40px;\r\n\r\n\t\t.logo {\r\n\t\t\twidth: 30px;\r\n\t\t\tfill: var(--header-text);\r\n\t\t}\r\n\r\n\t\tp {\r\n\t\t\tmargin-bottom: 0;\r\n\t\t\tmargin-left: 40px;\r\n\t\t\tfont-size: 1.5em;\r\n\t\t\tdisplay: inline;\r\n\t\t}\r\n\t\t.hb {\r\n\t\t\theight: 100%;\r\n\t\t\tbackground: transparent;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tcolor: var(--header-text);\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\tbackground: rgba(255,255,255,0.3);\r\n\t\t\t\tcolor: black;\r\n\t\t\t}\r\n\t\t\t&:focus {\r\n\t\t\t\tbox-shadow: 0 0 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=eb2379be&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container vh-100 d-flex justify-content-center align-items-center\"},[_c('div',{staticClass:\"card w-100\",staticStyle:{\"max-width\":\"450px\"}},[_c('div',{staticClass:\"card-title mb-0 border-bottom\"},[_c('h3',{staticClass:\"text-center my-3\"},[_vm._v(\"Авторизация\")])]),_c('div',{staticClass:\"card-body\"},[_c('p',{staticClass:\"bg-danger text-white card p-2\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"errorAlert\"}}),_c('form',{attrs:{\"id\":\"loginForm\"}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"login\"}},[_vm._v(\"Логин\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"login\"}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Пароль\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\"}})]),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('button',{staticClass:\"btn btn-primary px-5\",attrs:{\"type\":\"button\",\"id\":\"submit\"}},[_vm._v(\"Войти\")])])]),_c('hr'),_c('a',{attrs:{\"href\":\"/register\"}},[_vm._v(\"Создать аккаунт\")])])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<div class=\"container vh-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t<div class=\"card w-100\" style=\"max-width: 450px\">\r\n\t\t\t\t<div class=\"card-title mb-0 border-bottom\">\r\n\t\t\t\t\t<h3 class=\"text-center my-3\">Авторизация</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<p class=\"bg-danger text-white card p-2\" id=\"errorAlert\" style=\"display: none\"></p>\r\n\t\t\t\t\t<form id=\"loginForm\">\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t<label for=\"login\">Логин</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"login\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t<label for=\"password\">Пароль</label>\r\n\t\t\t\t\t\t\t<input type=\"password\" class=\"form-control\" id=\"password\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<button type=\"button\" id=\"submit\" class=\"btn btn-primary px-5\">Войти</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<hr>\r\n\t\t\t\t\t<a href=\"/register\">Создать аккаунт</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n\tmounted () {\r\n\t\tlet loginUser = login.bind(this);\r\n\t\tlet submit = document.getElementById('submit');\r\n\t\tsubmit.addEventListener(\"click\", loginUser);\r\n\t\tdocument.addEventListener('keydown', (e) => e.key === 'Enter' ? loginUser() : null );\r\n\r\n\t\tfunction login () {\r\n\t\t\tlet l = document.getElementById('login').value;\r\n\t\t\tlet p = document.getElementById('password').value;\r\n\t\t\tlet error = document.getElementById('errorAlert');\r\n\t\t\terror.style.display = 'none';\r\n\r\n\t\t\tthis.axios.post(this.$root.url+'users/auth', {}, {params: { login: l, password: p }})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.error) {\r\n\t\t\t\t\t// Ошибка входа\r\n\t\t\t\t\terror.style.display = 'block';\r\n\t\t\t\t\terror.innerText = response.data.error;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Успешный вход\r\n\t\t\t\t\tlocalStorage.setItem('uuid', response.data.uuid);\r\n\t\t\t\t\tthis.$router.push('/')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Auth.vue?vue&type=template&id=ec6a7e48&\"\nimport script from \"./Auth.vue?vue&type=script&lang=js&\"\nexport * from \"./Auth.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container vh-100 d-flex justify-content-center align-items-center\"},[_c('div',{staticClass:\"card w-100\",staticStyle:{\"max-width\":\"450px\"}},[_c('div',{staticClass:\"card-title mb-0 border-bottom\"},[_c('h3',{staticClass:\"text-center my-3\"},[_vm._v(\"Регистрация\")])]),_c('div',{staticClass:\"card-body\"},[_c('p',{staticClass:\"bg-danger text-white card p-2 mb-2\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"errorAlert\"}}),_c('form',[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Имя\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"name\",\"autocomplete\":\"off\"}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" С большой буквы, не менее 3-х символов. \")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"login\"}},[_vm._v(\"Логин\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"login\",\"autocomplete\":\"off\"}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Маленькие латинские буквы или цифры, не менее 4-х символов, первый символ не цифра. \")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Пароль\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\",\"autocomplete\":\"off\"}}),_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Не менее 4-х латинский букв или цифр. \")])]),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('button',{staticClass:\"btn btn-primary px-5\",attrs:{\"type\":\"button\",\"id\":\"submit\"}},[_vm._v(\"Создать аккаунт\")])]),_c('hr'),_c('a',{attrs:{\"href\":\"/auth\"}},[_vm._v(\"Уже есть аккаунт?\")])])])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<div class=\"container vh-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t<div class=\"card w-100\" style=\"max-width: 450px\">\r\n\t\t\t\t<div class=\"card-title mb-0 border-bottom\">\r\n\t\t\t\t\t<h3 class=\"text-center my-3\">Регистрация</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<p class=\"bg-danger text-white card p-2 mb-2\" id=\"errorAlert\" style=\"display: none\"></p>\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t<label for=\"name\">Имя</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"name\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t<div class=\"invalid-feedback\">\r\n\t\t\t\t\t\t\t\tС большой буквы, не менее 3-х символов.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t<label for=\"login\">Логин</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"login\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t<div class=\"invalid-feedback\">\r\n\t\t\t\t\t\t\t\tМаленькие латинские буквы или цифры, не менее 4-х символов, первый символ не цифра.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t<label for=\"password\">Пароль</label>\r\n\t\t\t\t\t\t\t<input type=\"password\" class=\"form-control\" id=\"password\" autocomplete=\"off\">\r\n\t\t\t\t\t\t\t<div class=\"invalid-feedback\">\r\n\t\t\t\t\t\t\t\tНе менее 4-х латинский букв или цифр.\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<button type=\"button\" id=\"submit\" class=\"btn btn-primary px-5\">Создать аккаунт</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr>\r\n\t\t\t\t\t\t<a href=\"/auth\">Уже есть аккаунт?</a>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tmounted() {\r\n\t\tconst form = {\r\n\t\t\tn: {\r\n\t\t\t\telem: document.getElementById('name'),\r\n\t\t\t\tregExp: /(^[А-Я][а-я]{2,14}$|^[A-Z][a-z]{2,14}$)/\r\n\t\t\t},\r\n\t\t\tl: {\r\n\t\t\t\telem: document.getElementById('login'),\r\n\t\t\t\tregExp: /^[a-z][0-9a-z]{3,9}$/\r\n\t\t\t},\r\n\t\t\tp: {\r\n\t\t\t\telem: document.getElementById('password'),\r\n\t\t\t\tregExp: /^[0-9a-zA-Z]{4,20}$/\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet firstTime = true;\r\n\t\tlet submit = document.getElementById('submit');\r\n\r\n\t\tsubmit.addEventListener('click', () => {\r\n\t\t\tlet flag = true;\r\n\r\n\t\t\tfor (let f in form) {\r\n\t\t\t\tif (form[f].elem.value.match(form[f].regExp)) {\r\n\t\t\t\t\t// Валидация пройдена\r\n\t\t\t\t\tform[f].elem.classList.remove('is-invalid');\r\n\t\t\t\t\tform[f].elem.classList.add('is-valid');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Валидация не пройдена\r\n\t\t\t\t\tform[f].elem.classList.remove('is-valid');\r\n\t\t\t\t\tform[f].elem.classList.add('is-invalid');\r\n\t\t\t\t\tflag = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (firstTime) {\r\n\t\t\t\t\tform[f].elem.addEventListener('input', () => validateField(f));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (firstTime) firstTime = false;\r\n\r\n\t\t\t// Вся валидация пройдена, отправляем запрос на сервер\r\n\t\t\tif (flag) {\r\n\t\t\t\tlet error = document.getElementById('errorAlert');\r\n\t\t\t\terror.style.display = 'none';\r\n\t\t\t\tthis.axios.post(this.$root.url+'/users/new', {}, {params: {\r\n\t\t\t\t\tname: form.n.elem.value,\r\n\t\t\t\t\tlogin: form.l.elem.value,\r\n\t\t\t\t\tpassword: form.p.elem.value\r\n\t\t\t\t} }).then(response => {\r\n\t\t\t\t\tif (response.data.error) {\r\n\t\t\t\t\t\terror.innerText = response.data.error;\r\n\t\t\t\t\t\terror.style.display = 'block';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlocalStorage.setItem('uuid', response.data.uuid);\r\n\t\t\t\t\t\tthis.$router.push('/');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction validateField (f) {\r\n\t\t\tif (form[f].elem.value.match(form[f].regExp)) {\r\n\t\t\t\t// Валидация пройдена\r\n\t\t\t\tform[f].elem.classList.remove('is-invalid');\r\n\t\t\t\tform[f].elem.classList.add('is-valid');\r\n\t\t\t} else {\r\n\t\t\t\t// Валидация не пройдена\r\n\t\t\t\tform[f].elem.classList.remove('is-valid');\r\n\t\t\t\tform[f].elem.classList.add('is-invalid');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=39414f56&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from \"vue-router\"\r\nimport App from './App.vue'\r\n\r\nimport axios from 'axios'\r\nimport VueAxios from 'vue-axios'\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faUserPlus, faShare, faPlus, faCode } from '@fortawesome/free-solid-svg-icons'\r\nimport { faTrashAlt } from '@fortawesome/free-regular-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\r\n\r\nlibrary.add(faUserPlus, faShare, faPlus, faTrashAlt, faCode)\r\n\r\nVue.component('font-awesome-icon', FontAwesomeIcon)\r\n\r\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\n\r\nimport Main from './pages/Main';\r\nimport Auth from './pages/Auth';\r\nimport Register from './pages/Register';\r\n\r\n\r\nVue.use(BootstrapVue);\r\nVue.use(IconsPlugin);\r\nVue.use(VueRouter);\r\nVue.use(VueAxios, axios);\r\n\r\n// url сервера\r\n// const url = \"http://localhost:8080/\";\r\nconst url = \"https://jivegram.herokuapp.com/\";\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: \"/\",\r\n\t\tcomponent: Main,\r\n\t\tbeforeEnter: (to, from, next) => {\r\n\t\t\t// Проверка авторизован ли пользователь\r\n\t\t\tlet uuid = localStorage.getItem('uuid');\r\n\t\t\tif ( uuid ) {\r\n\t\t\t\taxios.post(url+'users/checkAuth', {},{params: {uuid: uuid}})\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tif (response.data) {\r\n\t\t\t\t\t\t\tlocalStorage.setItem('uuid', response.data.uuid);\r\n\t\t\t\t\t\t\tlocalStorage.setItem('userId', response.data.userId);\r\n\t\t\t\t\t\t\tlocalStorage.setItem('name', response.data.name);\r\n\t\t\t\t\t\t\tlocalStorage.setItem('login', response.data.login);\r\n\t\t\t\t\t\t\tlocalStorage.setItem('colorScheme', response.data.colorScheme);\r\n\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse next('/auth');\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tnext('/auth')\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tpath: \"/auth\",\r\n\t\tcomponent: Auth,\r\n\t},\r\n\t{\r\n\t\tpath: \"/register\",\r\n\t\tcomponent: Register,\r\n\t}\r\n];\r\n\r\nconst router = new VueRouter({\r\n\troutes,\r\n\tmode: \"history\",\r\n});\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n\trouter,\r\n\tdata: {\r\n\t\turl: url,\r\n\t\tgetDate\r\n\t},\r\n\trender: h => h(App),\r\n}).$mount('#app')\r\n\r\n\r\n// Global functions\r\nfunction getDate(dateStr) {\r\n\tlet output = '';\r\n\tlet msgDate = new Date(dateStr);\r\n\tlet now = new Date();\r\n\r\n\t// Подсчет часов и минут\r\n\tlet hours = msgDate.getHours();\r\n\tlet minutes = msgDate.getMinutes();\r\n\tif (hours < 10) hours = '0' + hours;\r\n\tif (minutes < 10) minutes = '0' + minutes;\r\n\r\n\tif (msgDate.getDate() === now.getDate()) {\r\n\t\t// Сегодня\r\n\t\toutput = hours + ':' + minutes;\r\n\t} else if (msgDate.getDate() === now.getDate()-1) {\r\n\t\t// Вчера\r\n\t\toutput = 'Вчера ' + hours + ':' + minutes;\r\n\t} else if (msgDate.getFullYear() === now.getFullYear() ) {\r\n\t\t// Дата\r\n\t\tlet date = msgDate.getDate();\r\n\t\tif (date < 10) date = '0' + date;\r\n\t\tlet month = msgDate.getMonth()+1;\r\n\t\tswitch (month) {\r\n\t\t\tcase '1': month = 'янв'; break;\r\n\t\t\tcase '2': month = 'фев'; break;\r\n\t\t\tcase '3': month = 'мар'; break;\r\n\t\t\tcase '4': month = 'апр'; break;\r\n\t\t\tcase '5': month = 'май'; break;\r\n\t\t\tcase '6': month = 'июн'; break;\r\n\t\t\tcase '7': month = 'июл'; break;\r\n\t\t\tcase '8': month = 'авг'; break;\r\n\t\t\tcase '9': month = 'сен'; break;\r\n\t\t\tcase '10': month = 'окт'; break;\r\n\t\t\tcase '11': month = 'ноя'; break;\r\n\t\t\tcase '12': month = 'дек'; break;\r\n\t\t}\r\n\t\toutput = date + '.' + month + ' ' + hours + ':' + minutes;\r\n\t} else {\r\n\t\t// Дата + год\r\n\t\tlet date = msgDate.getDate();\r\n\t\tif (date < 10) date = '0' + date;\r\n\t\tlet month = msgDate.getMonth()+1;\r\n\t\tif (month < 10) month = '0' + month;\r\n\t\tlet year = msgDate.getFullYear();\r\n\t\tyear = year.toString()[2] + year.toString()[3];\r\n\r\n\t\toutput = date + '.' + month + '.' + year + ' ' + hours + ':' + minutes;\r\n\t}\r\n\r\n\treturn output;\r\n}\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Empty.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Empty.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewChat_Item.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewChat_Item.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatList_Item.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatList_Item.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages_Item.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages_Item.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatList.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}